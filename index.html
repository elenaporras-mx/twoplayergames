<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GAME HUB v1.0 - [CLASSIFIED ACCESS]</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap');

* { 
  margin: 0; 
  padding: 0; 
  box-sizing: border-box; 
}

body {
  font-family: 'Orbitron', 'Courier New', monospace;
  background: #000;
  background-image: 
    radial-gradient(circle at 25% 25%, #001122 0%, transparent 50%),
    radial-gradient(circle at 75% 75%, #110022 0%, transparent 50%),
    linear-gradient(45deg, #000011 0%, #000022 25%, #001100 50%, #002200 75%, #000011 100%);
  min-height: 100vh;
  color: #00ff00;
  text-shadow: 0 0 10px #00ff00;
  animation: scanlines 0.1s linear infinite;
  overflow-x: hidden;
}

@keyframes scanlines {
  0% { background-position: 0 0; }
  100% { background-position: 0 2px; }
}

body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(0, 255, 0, 0.03) 2px,
    rgba(0, 255, 0, 0.03) 4px
  );
  pointer-events: none;
  z-index: 1000;
}

/* LOGIN SCREEN */
.login-container {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: #001100;
  border: 4px solid #00ff00;
  border-radius: 0;
  padding: 40px;
  box-shadow: 
    0 0 20px #00ff00,
    inset 0 0 20px rgba(0, 255, 0, 0.1);
  text-align: center;
  max-width: 500px;
  width: 90%;
  animation: flicker 2s infinite alternate;
}

@keyframes flicker {
  0%, 98% { opacity: 1; }
  99% { opacity: 0.95; }
  100% { opacity: 1; }
}

.login-container h2 {
  color: #00ffff;
  font-size: 1.8em;
  margin-bottom: 20px;
  text-transform: uppercase;
  letter-spacing: 3px;
  text-shadow: 0 0 15px #00ffff;
}

.login-input, .login-button {
  width: 100%;
  padding: 15px;
  margin-bottom: 15px;
  border: 2px solid #00ff00;
  background: #000;
  color: #00ff00;
  font-family: 'Orbitron', monospace;
  font-size: 1.1em;
  text-align: center;
  text-transform: uppercase;
}

.login-input {
  background: rgba(0, 255, 0, 0.1);
}

.login-input:focus {
  outline: none;
  box-shadow: 0 0 10px #00ff00;
  background: rgba(0, 255, 0, 0.2);
}

.login-button {
  background: #003300;
  cursor: pointer;
  font-weight: bold;
  transition: all 0.2s;
  text-shadow: 0 0 5px #00ff00;
}

.login-button:hover {
  background: #00ff00;
  color: #000;
  box-shadow: 0 0 20px #00ff00;
  text-shadow: none;
}

.error-message {
  color: #ff0000;
  font-weight: bold;
  text-shadow: 0 0 10px #ff0000;
  animation: errorBlink 0.5s infinite;
}

@keyframes errorBlink {
  0%, 50% { opacity: 1; }
  51%, 100% { opacity: 0.3; }
}

.game-container {
  display: none;
  width: 100%;
  padding: 20px;
}

/* HEADER */
.header {
  text-align: center;
  margin-bottom: 30px;
  background: rgba(0, 17, 0, 0.8);
  border: 4px solid #00ff00;
  padding: 20px 40px;
  box-shadow: 0 0 20px rgba(0, 255, 0, 0.5);
  position: relative;
}

.header::before {
  content: ">>> SECURE CONNECTION ESTABLISHED <<<";
  position: absolute;
  top: -15px;
  left: 50%;
  transform: translateX(-50%);
  background: #000;
  padding: 0 10px;
  font-size: 0.8em;
  color: #00ffff;
  text-shadow: 0 0 5px #00ffff;
}

.header h1 {
  color: #00ffff;
  font-size: 3em;
  font-weight: 900;
  text-transform: uppercase;
  letter-spacing: 5px;
  text-shadow: 0 0 20px #00ffff;
  margin-bottom: 20px;
}

.players-setup {
  display: flex;
  gap: 30px;
  align-items: center;
  justify-content: center;
  margin-bottom: 20px;
  flex-wrap: wrap;
}

.player-input {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 10px;
}

.player-input label {
  color: #ffff00;
  font-weight: bold;
  text-transform: uppercase;
  text-shadow: 0 0 5px #ffff00;
}

.player-input input {
  padding: 10px;
  border: 2px solid #00ff00;
  background: rgba(0, 255, 0, 0.1);
  color: #00ff00;
  text-align: center;
  font-family: 'Orbitron', monospace;
  font-weight: bold;
  text-transform: uppercase;
}

.global-score {
  display: flex;
  gap: 30px;
  justify-content: center;
  font-weight: 700;
  flex-wrap: wrap;
}

.score-item {
  background: rgba(255, 255, 0, 0.1);
  border: 2px solid #ffff00;
  padding: 10px 20px;
  color: #ffff00;
  text-shadow: 0 0 10px #ffff00;
  text-transform: uppercase;
}

/* GAMES GRID */
.games-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 25px;
  max-width: 1400px;
  margin: 0 auto 30px;
}

.game-card {
  background: rgba(0, 17, 0, 0.9);
  border: 3px solid #00ff00;
  padding: 25px;
  text-align: center;
  box-shadow: 0 0 15px rgba(0, 255, 0, 0.3);
  transition: all 0.3s ease;
  cursor: pointer;
  position: relative;
  overflow: hidden;
}

.game-card::before {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: linear-gradient(45deg, transparent, rgba(0, 255, 0, 0.1), transparent);
  transform: rotate(45deg);
  transition: all 0.5s;
  opacity: 0;
}

.game-card:hover::before {
  opacity: 1;
  animation: sweep 1s linear;
}

@keyframes sweep {
  0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
  100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
}

.game-card:hover {
  transform: scale(1.05);
  border-color: #00ffff;
  box-shadow: 0 0 25px rgba(0, 255, 255, 0.5);
}

.game-card h3 {
  color: #00ffff;
  font-size: 1.4em;
  margin-bottom: 15px;
  text-transform: uppercase;
  letter-spacing: 2px;
  text-shadow: 0 0 10px #00ffff;
}

.play-button {
  background: #003300;
  color: #00ff00;
  border: 2px solid #00ff00;
  padding: 12px 25px;
  font-family: 'Orbitron', monospace;
  font-weight: bold;
  text-transform: uppercase;
  cursor: pointer;
  transition: all 0.2s;
  text-shadow: 0 0 5px #00ff00;
}

.play-button:hover {
  background: #00ff00;
  color: #000;
  box-shadow: 0 0 15px #00ff00;
  text-shadow: none;
}

/* GAME AREA */
.game-area {
  display: none;
  background: rgba(0, 17, 0, 0.95);
  border: 4px solid #00ff00;
  padding: 30px;
  max-width: 900px;
  width: 100%;
  margin: 0 auto 20px;
  box-shadow: 0 0 20px rgba(0, 255, 0, 0.3);
}

.game-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
  flex-wrap: wrap;
  gap: 15px;
}

.back-button {
  background: #330000;
  color: #ff0000;
  border: 2px solid #ff0000;
  padding: 10px 15px;
  font-family: 'Orbitron', monospace;
  font-weight: bold;
  text-transform: uppercase;
  cursor: pointer;
  text-shadow: 0 0 5px #ff0000;
}

.back-button:hover {
  background: #ff0000;
  color: #000;
  box-shadow: 0 0 15px #ff0000;
  text-shadow: none;
}

.current-player {
  font-weight: 700;
  color: #ffff00;
  text-shadow: 0 0 10px #ffff00;
  text-transform: uppercase;
}

/* GAME STYLES */
.connect4-board {
  display: grid;
  grid-template-columns: repeat(7, 60px);
  gap: 5px;
  justify-content: center;
  margin: 20px 0;
}

.connect4-cell {
  width: 60px;
  height: 60px;
  border: 3px solid #00ff00;
  background: rgba(0, 255, 0, 0.1);
  cursor: pointer;
  transition: all 0.2s;
}

.connect4-cell:hover {
  background: rgba(0, 255, 0, 0.2);
  box-shadow: 0 0 10px #00ff00;
}

.connect4-cell.red { background: #ff0040; box-shadow: 0 0 10px #ff0040; }
.connect4-cell.yellow { background: #ffff00; box-shadow: 0 0 10px #ffff00; }

.tic-tac-toe-board {
  display: grid;
  grid-template-columns: repeat(3, 100px);
  gap: 5px;
  justify-content: center;
  margin: 20px 0;
}

.tic-tac-toe-cell {
  width: 100px;
  height: 100px;
  background: rgba(0, 255, 0, 0.1);
  border: 3px solid #00ff00;
  font-size: 2.5em;
  font-weight: bold;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  color: #00ffff;
  text-shadow: 0 0 10px #00ffff;
  transition: all 0.2s;
}

.tic-tac-toe-cell:hover {
  background: rgba(0, 255, 0, 0.2);
  box-shadow: 0 0 15px #00ff00;
}

.number-grid {
  display: grid;
  grid-template-columns: repeat(4, 100px);
  gap: 10px;
  justify-content: center;
  margin: 20px 0;
}

.number-button {
  width: 100px;
  height: 100px;
  background: rgba(0, 255, 0, 0.2);
  border: 2px solid #00ff00;
  color: #00ffff;
  font-size: 1.5em;
  font-weight: bold;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.2s;
  text-shadow: 0 0 10px #00ffff;
}

.number-button:hover, .number-button.selected {
  background: rgba(0, 255, 255, 0.3);
  box-shadow: 0 0 15px #00ffff;
}

/* INPUT STYLES */
.word-input, .anagram-input, .wordchain-input, .math-input, .message-input {
  width: 100%;
  padding: 15px;
  margin-bottom: 15px;
  border: 2px solid #00ff00;
  background: rgba(0, 255, 0, 0.1);
  color: #00ff00;
  font-family: 'Orbitron', monospace;
  font-size: 1.1em;
  text-align: center;
  text-transform: uppercase;
}

.word-input:focus, .anagram-input:focus, .wordchain-input:focus, .math-input:focus, .message-input:focus {
  outline: none;
  background: rgba(0, 255, 0, 0.2);
  box-shadow: 0 0 15px #00ff00;
}

.submit-button, .roll-button, .send-message, .clear-messages {
  background: #003300;
  color: #00ff00;
  border: 2px solid #00ff00;
  padding: 12px 25px;
  font-family: 'Orbitron', monospace;
  font-weight: bold;
  text-transform: uppercase;
  cursor: pointer;
  margin: 5px;
  transition: all 0.2s;
  text-shadow: 0 0 5px #00ff00;
}

.submit-button:hover, .roll-button:hover, .send-message:hover, .clear-messages:hover {
  background: #00ff00;
  color: #000;
  box-shadow: 0 0 15px #00ff00;
  text-shadow: none;
}

/* GAME INFO */
.game-info {
  text-align: center;
  margin-bottom: 20px;
  color: #ffff00;
  font-weight: bold;
  text-shadow: 0 0 10px #ffff00;
  text-transform: uppercase;
  letter-spacing: 1px;
}

.timer {
  text-align: center;
  font-size: 2em;
  color: #ff0040;
  font-weight: bold;
  text-shadow: 0 0 15px #ff0040;
  margin: 15px 0;
  animation: pulse 1s infinite;
}

@keyframes pulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.1); }
}

.dice {
  font-size: 4em;
  text-align: center;
  margin: 20px 0;
  text-shadow: 0 0 20px currentColor;
}

/* PANELS */
.history-panel, .messages-panel {
  background: rgba(0, 17, 0, 0.95);
  border: 3px solid #00ff00;
  padding: 20px;
  margin: 20px auto;
  max-width: 900px;
  box-shadow: 0 0 15px rgba(0, 255, 0, 0.3);
}

.messages-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 15px;
  flex-wrap: wrap;
  gap: 10px;
}

.messages-header h4 {
  color: #00ffff;
  text-transform: uppercase;
  text-shadow: 0 0 10px #00ffff;
}

.messages-container {
  max-height: 200px;
  overflow-y: auto;
  border: 2px solid #00ff00;
  padding: 15px;
  margin-bottom: 15px;
  background: rgba(0, 0, 0, 0.5);
}

.message {
  margin-bottom: 10px;
  padding: 8px;
  border-left: 3px solid #00ff00;
  background: rgba(0, 255, 0, 0.05);
}

.message-sender {
  font-size: 0.8em;
  color: #ffff00;
  text-shadow: 0 0 5px #ffff00;
  margin-bottom: 3px;
  text-transform: uppercase;
}

.message-text {
  color: #00ff00;
  text-shadow: 0 0 5px #00ff00;
}

.message-input-container {
  display: flex;
  gap: 10px;
}

.message-input {
  flex: 1;
  text-align: left;
}

/* DRAWING */
.drawing-canvas {
  border: 3px solid #00ff00;
  background: #000;
  margin: 10px 0;
  cursor: crosshair;
  box-shadow: 0 0 15px rgba(0, 255, 0, 0.3);
}

.color-palette {
  display: flex;
  justify-content: center;
  gap: 10px;
  margin: 15px 0;
}

.color-button {
  width: 30px;
  height: 30px;
  border: 2px solid #00ff00;
  cursor: pointer;
  transition: all 0.2s;
}

.color-button:hover, .color-button.active {
  transform: scale(1.2);
  box-shadow: 0 0 10px #00ff00;
}

/* RESPONSIVE */
@media (max-width: 768px) {
  .header h1 { font-size: 2em; }
  .games-grid { grid-template-columns: 1fr; }
  .game-header { flex-direction: column; text-align: center; }
  .players-setup { flex-direction: column; }
  .global-score { flex-direction: column; gap: 10px; }
}

/* SCROLLBAR */
::-webkit-scrollbar {
  width: 12px;
}

::-webkit-scrollbar-track {
  background: #000;
}

::-webkit-scrollbar-thumb {
  background: #00ff00;
  box-shadow: 0 0 10px #00ff00;
}

::-webkit-scrollbar-thumb:hover {
  background: #00ffff;
}
</style>
</head>
<body>

<!-- LOGIN -->
<div class="login-container" id="loginScreen">
  <h2>[CLASSIFIED ACCESS]</h2>
  <div style="margin-bottom: 20px; color: #ffff00; font-size: 0.9em;">
    ENTER AUTHORIZATION CODE
  </div>
  <input type="password" class="login-input" id="passwordInput" placeholder="PASSWORD">
  <button class="login-button" onclick="checkPassword()">INITIALIZE</button>
  <div class="error-message" id="errorMessage"></div>
</div>

<!-- GAME HUB -->
<div class="game-container" id="gameContainer">

  <div class="header">
    <h1>GAME HUB v1.0</h1>
    <div class="players-setup">
      <div class="player-input">
        <label>PLAYER 1:</label>
        <input type="text" id="player1Name" value="ELENA">
      </div>
      <div class="player-input">
        <label>PLAYER 2:</label>
        <input type="text" id="player2Name" value="BRYAN">
      </div>
    </div>
    <div class="global-score">
      <div class="score-item"><span id="player1GlobalScore">ELENA: 0 WINS</span></div>
      <div class="score-item"><span id="player2GlobalScore">BRYAN: 0 WINS</span></div>
    </div>
  </div>

  <div class="games-grid" id="gamesGrid">
    <div class="game-card" onclick="startGame('connect4')">
      <h3>█ CONNECT 4</h3>
      <button class="play-button">EXECUTE</button>
    </div>
    <div class="game-card" onclick="startGame('tictactoe')">
      <h3>█ TIC TAC TOE</h3>
      <button class="play-button">EXECUTE</button>
    </div>
    <div class="game-card" onclick="startGame('anagrams')">
      <h3>█ ANAGRAMS</h3>
      <button class="play-button">EXECUTE</button>
    </div>
    <div class="game-card" onclick="startGame('memory')">
      <h3>█ MEMORY MATCH</h3>
      <button class="play-button">EXECUTE</button>
    </div>
    <div class="game-card" onclick="startGame('mathrace')">
      <h3>█ MATH RACE</h3>
      <button class="play-button">EXECUTE</button>
    </div>
    <div class="game-card" onclick="startGame('drawguess')">
      <h3>█ DRAW & GUESS</h3>
      <button class="play-button">EXECUTE</button>
    </div>
    <div class="game-card" onclick="startGame('dicerace')">
      <h3>█ DICE RACE</h3>
      <button class="play-button">EXECUTE</button>
    </div>
    <div class="game-card" onclick="startGame('sequence')">
      <h3>█ SEQUENCE MEMORY</h3>
      <button class="play-button">EXECUTE</button>
    </div>
    <div class="game-card" onclick="startGame('wordchain')">
      <h3>█ WORD CHAIN</h3>
      <button class="play-button">EXECUTE</button>
    </div>
    <div class="game-card" onclick="startGame('quickdraw')">
      <h3>█ QUICK DRAW</h3>
      <button class="play-button">EXECUTE</button>
    </div>
  </div>

  <div class="game-area" id="gameArea">
    <div class="game-header">
      <button class="back-button" onclick="backToMenu()">← TERMINATE</button>
      <h2 id="gameTitle"></h2>
      <div class="current-player" id="currentPlayer"></div>
    </div>
    <div id="gameContent"></div>
  </div>

  <div class="history-panel" id="historyPanel">
    <h3 style="color: #00ffff; text-shadow: 0 0 10px #00ffff; text-transform: uppercase; margin-bottom: 15px;">GAME LOGS</h3>
    <div id="historyContent"></div>
  </div>
  
  <div class="messages-panel" id="messagesPanel">
    <div class="messages-header">
      <h4>█ SECURE CHAT</h4>
      <button class="clear-messages" onclick="clearMessages()">CLEAR LOG</button>
    </div>
    <div class="messages-container" id="messagesContainer">
      <div style="text-align:center;color:#666;">AWAITING TRANSMISSION...</div>
    </div>
    <div class="message-input-container">
      <input type="text" class="message-input" id="messageInput" placeholder="ENTER MESSAGE">
      <button class="send-message" onclick="sendMessage()">TRANSMIT</button>
    </div>
  </div>

</div>

<script>
/* PASSWORD & TIMEOUT SYSTEM */
const CORRECT_PASSWORD = "BandESittingInATree"; 
let isLoggedIn = false;
let activityTimeout;
let lastActivityTime = Date.now();
const TIMEOUT_DURATION = 15 * 60 * 1000; // 15 minutes in milliseconds

function checkPassword(){
  const inputPassword = document.getElementById('passwordInput').value;
  if(inputPassword === CORRECT_PASSWORD){
    isLoggedIn = true;
    document.getElementById('loginScreen').style.display='none';
    document.getElementById('gameContainer').style.display='block';
    document.getElementById('errorMessage').textContent = '';
    startActivityMonitor();
  } else {
    document.getElementById('errorMessage').textContent='ACCESS DENIED - INVALID CODE';
    document.getElementById('passwordInput').value='';
  }
}

function startActivityMonitor() {
  lastActivityTime = Date.now();
  resetActivityTimeout();
  
  // Track user activity
  const activityEvents = ['mousedown', 'mousemove', 'keypress', 'scroll', 'touchstart', 'click'];
  activityEvents.forEach(event => {
    document.addEventListener(event, updateActivity, true);
  });
}

function updateActivity() {
  if (!isLoggedIn) return;
  lastActivityTime = Date.now();
  resetActivityTimeout();
}

function resetActivityTimeout() {
  clearTimeout(activityTimeout);
  activityTimeout = setTimeout(showTimeoutWarning, TIMEOUT_DURATION);
}

function showTimeoutWarning() {
  if (!isLoggedIn) return;
  
  const warningDiv = document.createElement('div');
  warningDiv.id = 'timeoutWarning';
  warningDiv.style.cssText = `
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: rgba(0, 17, 0, 0.98);
    border: 4px solid #ff0040;
    padding: 30px;
    z-index: 10000;
    text-align: center;
    box-shadow: 0 0 30px #ff0040;
    animation: pulse 1s infinite;
  `;
  
  warningDiv.innerHTML = `
    <h2 style="color: #ff0040; text-shadow: 0 0 15px #ff0040; margin-bottom: 20px; text-transform: uppercase;">
      SESSION TIMEOUT WARNING
    </h2>
    <p style="color: #ffff00; text-shadow: 0 0 10px #ffff00; margin-bottom: 25px; font-size: 1.1em;">
      ARE YOU STILL PLAYING?<br>
      SESSION WILL TERMINATE IN 30 SECONDS
    </p>
    <button onclick="continueSession()" style="
      background: #003300; color: #00ff00; border: 2px solid #00ff00;
      padding: 12px 25px; margin: 0 10px; font-family: 'Orbitron', monospace;
      font-weight: bold; text-transform: uppercase; cursor: pointer;
      text-shadow: 0 0 5px #00ff00;
    ">YES - CONTINUE</button>
    <button onclick="endSession()" style="
      background: #330000; color: #ff0000; border: 2px solid #ff0000;
      padding: 12px 25px; margin: 0 10px; font-family: 'Orbitron', monospace;
      font-weight: bold; text-transform: uppercase; cursor: pointer;
      text-shadow: 0 0 5px #ff0000;
    ">NO - LOGOUT</button>
    <div id="timeoutCountdown" style="
      color: #ff0040; font-size: 1.5em; font-weight: bold;
      text-shadow: 0 0 10px #ff0040; margin-top: 20px;
    ">30</div>
  `;
  
  document.body.appendChild(warningDiv);
  
  // Start 30-second countdown
  let countdown = 30;
  const countdownInterval = setInterval(() => {
    countdown--;
    const countdownEl = document.getElementById('timeoutCountdown');
    if (countdownEl) {
      countdownEl.textContent = countdown;
    }
    
    if (countdown <= 0) {
      clearInterval(countdownInterval);
      endSession();
    }
  }, 1000);
  
  // Store countdown interval for cleanup
  warningDiv.countdownInterval = countdownInterval;
}

function continueSession() {
  const warningDiv = document.getElementById('timeoutWarning');
  if (warningDiv) {
    if (warningDiv.countdownInterval) {
      clearInterval(warningDiv.countdownInterval);
    }
    warningDiv.remove();
  }
  updateActivity();
}

function endSession() {
  const warningDiv = document.getElementById('timeoutWarning');
  if (warningDiv) {
    if (warningDiv.countdownInterval) {
      clearInterval(warningDiv.countdownInterval);
    }
    warningDiv.remove();
  }
  
  clearTimeout(activityTimeout);
  isLoggedIn = false;
  
  // Clear all game data
  currentGame = null;
  gameState = {};
  gameMessages = [];
  
  // Reset UI
  document.getElementById('loginScreen').style.display = 'flex';
  document.getElementById('gameContainer').style.display = 'none';
  document.getElementById('passwordInput').value = '';
  
  // Show logout message
  const logoutDiv = document.createElement('div');
  logoutDiv.style.cssText = `
    position: fixed;
    top: 20px;
    right: 20px;
    background: rgba(51, 0, 0, 0.95);
    border: 2px solid #ff0040;
    padding: 15px;
    color: #ff0040;
    text-shadow: 0 0 10px #ff0040;
    font-family: 'Orbitron', monospace;
    font-weight: bold;
    text-transform: uppercase;
    z-index: 10000;
  `;
  logoutDiv.textContent = 'SESSION TERMINATED - INACTIVITY TIMEOUT';
  document.body.appendChild(logoutDiv);
  
  setTimeout(() => {
    if (logoutDiv.parentNode) {
      logoutDiv.remove();
    }
  }, 5000);
}

document.addEventListener('DOMContentLoaded',()=>{
  document.getElementById('passwordInput').addEventListener('keypress',e=>{
    if(e.key==='Enter') checkPassword();
  });
});

// Game state
let currentGame = null;
let currentPlayer = 1;
let gameState = {};
let gameHistory = {};
let globalScores = { player1: 0, player2: 0 };
let gameMessages = [];

// Initialize
document.addEventListener('DOMContentLoaded', function() {
    loadData();
    updateGlobalScores();
    updatePlayerNames();
});

// Player name updates
document.getElementById('player1Name').addEventListener('input', updatePlayerNames);
document.getElementById('player2Name').addEventListener('input', updatePlayerNames);

function updatePlayerNames() {
    const player1 = (document.getElementById('player1Name').value || 'ELENA').toUpperCase();
    const player2 = (document.getElementById('player2Name').value || 'BRYAN').toUpperCase();
    
    document.getElementById('player1GlobalScore').textContent = `${player1}: ${globalScores.player1} WINS`;
    document.getElementById('player2GlobalScore').textContent = `${player2}: ${globalScores.player2} WINS`;
    
    if (currentGame) {
        const currentPlayerName = currentPlayer === 1 ? player1 : player2;
        document.getElementById('currentPlayer').textContent = `ACTIVE: ${currentPlayerName}`;
    }
}

function startGame(gameType) {
    currentGame = gameType;
    currentPlayer = 1;
    gameState = {};
    gameMessages = [];
    
    document.getElementById('gamesGrid').style.display = 'none';
    document.getElementById('gameArea').style.display = 'block';
    document.getElementById('historyPanel').style.display = 'block';
    document.getElementById('messagesPanel').style.display = 'block';
    
    updatePlayerNames();
    loadGameHistory(gameType);
    clearMessages();
    
    const gameConfig = getGameConfig(gameType);
    document.getElementById('gameTitle').textContent = gameConfig.title;
    document.getElementById('gameContent').innerHTML = gameConfig.html;
    
    if (gameConfig.init) {
        gameConfig.init();
    }
}

function backToMenu() {
    currentGame = null;
    document.getElementById('gamesGrid').style.display = 'grid';
    document.getElementById('gameArea').style.display = 'none';
    document.getElementById('historyPanel').style.display = 'none';
    document.getElementById('messagesPanel').style.display = 'none';
}

function switchPlayer() {
    currentPlayer = currentPlayer === 1 ? 2 : 1;
    updatePlayerNames();
}

function recordWin(winner, score = null, gameSpecificData = null) {
    if (!gameHistory[currentGame]) {
        gameHistory[currentGame] = [];
    }
    
    const player1Name = (document.getElementById('player1Name').value || 'ELENA').toUpperCase();
    const player2Name = (document.getElementById('player2Name').value || 'BRYAN').toUpperCase();
    const winnerName = winner === 1 ? player1Name : player2Name;
    
    const gameRecord = {
        winner: winnerName,
        date: new Date().toLocaleDateString(),
        time: new Date().toLocaleTimeString(),
        score: score,
        ...gameSpecificData
    };
    
    gameHistory[currentGame].unshift(gameRecord);
    
    if (gameHistory[currentGame].length > 10) {
        gameHistory[currentGame] = gameHistory[currentGame].slice(0, 10);
    }
    
    globalScores[`player${winner}`]++;
    updateGlobalScores();
    loadGameHistory(currentGame);
    saveData();
}

function updateGlobalScores() {
    updatePlayerNames();
}

function loadGameHistory(gameType) {
    const historyContent = document.getElementById('historyContent');
    const history = gameHistory[gameType] || [];
    
    if (history.length === 0) {
        historyContent.innerHTML = '<p style="text-align: center; color: #666; font-style: italic;">NO RECORDS FOUND</p>';
        return;
    }
      </script>
